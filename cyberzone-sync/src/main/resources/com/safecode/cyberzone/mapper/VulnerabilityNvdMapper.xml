<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.safecode.cyberzone.mapper.VulnerabilityNvdMapper" >
  <resultMap id="BaseResultMap" type="com.safecode.cyberzone.po.VulnerabilityNvd" >
    <id column="id_" property="id" jdbcType="VARCHAR" />
    <result column="type_" property="type" jdbcType="VARCHAR" />
    <result column="name_" property="name" jdbcType="VARCHAR" />
    <result column="seq_" property="seq" jdbcType="VARCHAR" />
    <result column="published_" property="published" jdbcType="TIMESTAMP" />
    <result column="modified_" property="modified" jdbcType="TIMESTAMP" />
    <result column="severity_" property="severity" jdbcType="VARCHAR" />
    <result column="cvss_version" property="cvssVersion" jdbcType="VARCHAR" />
    <result column="cvss_score" property="cvssScore" jdbcType="VARCHAR" />
    <result column="cvss_base_score" property="cvssBaseScore" jdbcType="VARCHAR" />
    <result column="cvss_impact_subscore" property="cvssImpactSubscore" jdbcType="VARCHAR" />
    <result column="cvss_exploit_subscore" property="cvssExploitSubscore" jdbcType="VARCHAR" />
    <result column="cvss_vector" property="cvssVector" jdbcType="VARCHAR" />
    <result column="descript_source" property="descriptSource" jdbcType="VARCHAR" />
    <result column="classify_" property="classify" jdbcType="BIGINT" />
    <result column="create_time" property="createTime" jdbcType="TIMESTAMP" />
    <result column="create_by" property="createBy" jdbcType="BIGINT" />
    <result column="update_time" property="updateTime" jdbcType="TIMESTAMP" />
    <result column="update_by" property="updateBy" jdbcType="BIGINT" />
    <result column="del_flag" property="delFlag" jdbcType="BIT" />
    <result column="descript_" property="descript" jdbcType="LONGVARCHAR" />
    <result column="loss_types_xml" property="lossTypesXml" jdbcType="LONGVARCHAR" />
    <result column="refs_xml" property="refsXml" jdbcType="LONGVARCHAR" />
    <result column="vuln_soft_xml" property="vulnSoftXml" jdbcType="LONGVARCHAR" />
    <result column="remark_" property="remark" jdbcType="LONGVARCHAR" />
  </resultMap>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.String" >
    delete from vulnerability_nvd
    where id_ = #{id,jdbcType=VARCHAR}
  </delete>
  <insert id="insert" parameterType="com.safecode.cyberzone.po.VulnerabilityNvd" >
    insert into vulnerability_nvd (id_, type_, name_, 
      seq_, published_, modified_, 
      severity_, cvss_version, cvss_score, 
      cvss_base_score, cvss_impact_subscore, cvss_exploit_subscore, 
      cvss_vector, descript_source, classify_, 
      create_time, create_by, update_time, 
      update_by, del_flag, descript_, 
      loss_types_xml, refs_xml, vuln_soft_xml, 
      remark_)
    values (#{id,jdbcType=VARCHAR}, #{type,jdbcType=VARCHAR}, #{name,jdbcType=VARCHAR}, 
      #{seq,jdbcType=VARCHAR}, #{published,jdbcType=TIMESTAMP}, #{modified,jdbcType=TIMESTAMP}, 
      #{severity,jdbcType=VARCHAR}, #{cvssVersion,jdbcType=VARCHAR}, #{cvssScore,jdbcType=VARCHAR}, 
      #{cvssBaseScore,jdbcType=VARCHAR}, #{cvssImpactSubscore,jdbcType=VARCHAR}, #{cvssExploitSubscore,jdbcType=VARCHAR}, 
      #{cvssVector,jdbcType=VARCHAR}, #{descriptSource,jdbcType=VARCHAR}, #{classify,jdbcType=BIGINT}, 
      #{createTime,jdbcType=TIMESTAMP}, #{createBy,jdbcType=BIGINT}, #{updateTime,jdbcType=TIMESTAMP}, 
      #{updateBy,jdbcType=BIGINT}, #{delFlag,jdbcType=BIT}, #{descript,jdbcType=LONGVARCHAR}, 
      #{lossTypesXml,jdbcType=LONGVARCHAR}, #{refsXml,jdbcType=LONGVARCHAR}, #{vulnSoftXml,jdbcType=LONGVARCHAR}, 
      #{remark,jdbcType=LONGVARCHAR})
  </insert>
  <update id="updateByPrimaryKey" parameterType="com.safecode.cyberzone.po.VulnerabilityNvd" >
    update vulnerability_nvd
    set type_ = #{type,jdbcType=VARCHAR},
      name_ = #{name,jdbcType=VARCHAR},
      seq_ = #{seq,jdbcType=VARCHAR},
      published_ = #{published,jdbcType=TIMESTAMP},
      modified_ = #{modified,jdbcType=TIMESTAMP},
      severity_ = #{severity,jdbcType=VARCHAR},
      cvss_version = #{cvssVersion,jdbcType=VARCHAR},
      cvss_score = #{cvssScore,jdbcType=VARCHAR},
      cvss_base_score = #{cvssBaseScore,jdbcType=VARCHAR},
      cvss_impact_subscore = #{cvssImpactSubscore,jdbcType=VARCHAR},
      cvss_exploit_subscore = #{cvssExploitSubscore,jdbcType=VARCHAR},
      cvss_vector = #{cvssVector,jdbcType=VARCHAR},
      descript_source = #{descriptSource,jdbcType=VARCHAR},
      classify_ = #{classify,jdbcType=BIGINT},
      create_time = #{createTime,jdbcType=TIMESTAMP},
      create_by = #{createBy,jdbcType=BIGINT},
      update_time = #{updateTime,jdbcType=TIMESTAMP},
      update_by = #{updateBy,jdbcType=BIGINT},
      del_flag = #{delFlag,jdbcType=BIT},
      descript_ = #{descript,jdbcType=LONGVARCHAR},
      loss_types_xml = #{lossTypesXml,jdbcType=LONGVARCHAR},
      refs_xml = #{refsXml,jdbcType=LONGVARCHAR},
      vuln_soft_xml = #{vulnSoftXml,jdbcType=LONGVARCHAR},
      remark_ = #{remark,jdbcType=LONGVARCHAR}
    where id_ = #{id,jdbcType=VARCHAR}
  </update>
  <select id="selectByPrimaryKey" resultMap="BaseResultMap" parameterType="java.lang.String" >
    select id_, type_, name_, seq_, published_, modified_, severity_, cvss_version, cvss_score, 
    cvss_base_score, cvss_impact_subscore, cvss_exploit_subscore, cvss_vector, descript_source, 
    classify_, create_time, create_by, update_time, update_by, del_flag, descript_, loss_types_xml, 
    refs_xml, vuln_soft_xml, remark_
    from vulnerability_nvd
    where id_ = #{id,jdbcType=VARCHAR}
  </select>
  <select id="selectAll" resultMap="BaseResultMap" >
    select id_, type_, name_, seq_, published_, modified_, severity_, cvss_version, cvss_score, 
    cvss_base_score, cvss_impact_subscore, cvss_exploit_subscore, cvss_vector, descript_source, 
    classify_, create_time, create_by, update_time, update_by, del_flag, descript_, loss_types_xml, 
    refs_xml, vuln_soft_xml, remark_
    from vulnerability_nvd
  </select>
  
  <!-- 以下为自定义sql语句 -->
  
  <select id="findByName" resultMap="BaseResultMap" >
    select id_, type_, name_, seq_, published_, modified_, severity_, cvss_version, cvss_score, 
    cvss_base_score, cvss_impact_subscore, cvss_exploit_subscore, cvss_vector, descript_source, 
    classify_, create_time, create_by, update_time, update_by, del_flag, descript_, loss_types_xml, 
    refs_xml, vuln_soft_xml, remark_
    from vulnerability_nvd 
    where name_ = #{name}
     limit 1
  </select>
  
  <select id="onlineSyncNvd" resultMap="BaseResultMap" >
    select id_, type_, name_, seq_, published_, modified_, severity_, cvss_version, cvss_score, 
    cvss_base_score, cvss_impact_subscore, cvss_exploit_subscore, cvss_vector, descript_source, 
    classify_, create_time, create_by, update_time, update_by, del_flag, descript_, loss_types_xml, 
    refs_xml, vuln_soft_xml, remark_
    from vulnerability_nvd 
    where update_time &gt; #{nvdUpdateTime}
  </select>

</mapper>